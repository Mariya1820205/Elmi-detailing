// Импорт математических функций Sass для расчетов
@use 'sass:math';


/* ================ */
/* GLOBAL RESET */
/* ================ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box; // Упрощает расчет размеров элементов
    scroll-behavior: smooth; // Плавная прокрутка при навигации
}


/* ================ */
/* CUSTOM FONTS */
/* ================ */
// Основной шрифт для контента
@font-face {
    font-family: 'Helvetica';
    font-style: normal;
    font-weight: 400;
    src: url('fonts/helvetica_regular-russian.woff2') format('woff2');
    unicode-range: U+21-23, U+25-5F, U+61-7E, U+AB, U+BB, U+401, U+410-44F, U+451, U+2013-2014, U+2018-2019, U+201C, U+201C-201E, U+2026, U+20BD;
}


// Шрифт для заголовков
@font-face {
    font-family: 'HelveticaNeue';
    font-style: normal;
    font-weight: 500;
    src: url('fonts/helveticaneue-medium-russian.woff2') format('woff2');
    unicode-range: U+21-23, U+25-5F, U+61-7E, U+AB, U+BB, U+401, U+410-44F, U+451, U+2013-2014, U+2018-2019, U+201C, U+201C-201E, U+2026, U+20BD;
}


/* ================ */
/* DESIGN VARIABLES */
/* ================ */
$font-family-base: 'Helvetica', sans-serif;
$font-family-h: 'HelveticaNeue', sans-serif;
$primary-color: #AFFA00; // Основной акцентный цвет
$additional-primary-color: #DFFD98; // Дополнительный акцент
$background-color: #1f1f1f; // Цвет фона
$text-color-base: #E4E5E7;  // Базовый цвет текста



/* ================ */
/* TYPOGRAPHY SYSTEM */
/* ================ */
// Миксин для адаптивного текста 
@mixin fluid-text($max: 96, $min: 14) {
    // Расчеты для clamp()
    $maxViewportWidth: 1920;
    $minViewportWidth: 360;

    $maxSize: math.div($max, 16);
    $minSize: math.div($min, 16);
    $maxWidth: math.div($maxViewportWidth, 16);
    $minWidth: math.div($minViewportWidth, 16);

    $slope: math.div(($maxSize - $minSize), ($maxWidth - $minWidth));
    $yAxisIntersection: -$minWidth * $slope + $minSize;

    // Генерация CSS с динамическим размером шрифта
    font-size: clamp(#{$minSize * 1rem},
        #{$yAxisIntersection * 1rem} + #{$slope * 100vw},
        #{$maxSize * 1rem});
}

// Миксин для стилей заголовков
@mixin heading-styles($max, $min) {
    @include fluid-text($max, $min); // Адаптивный размер
    color: #fff; // Белый цвет для всех заголовков
    font-family: $font-family-h; // Шрифт для заголовков
    font-weight: 500; // Полужирное начертание
}

// Применение стилей к заголовкам
h1 {
    @include heading-styles(96, 46); // Самый крупный заголовок
}

h2 {
    @include heading-styles(64, 26);
}

h3 {
    @include fheading-styles(48, 24);
}

h4,
.h4 {
    @include heading-styles(32, 22); // Класс .h4 для случаев, когда нельзя использовать тег
}

h5 {
    @include heading-styles(24, 20);
}

h6 {
    @include heading-styles(20, 18);  // Самый мелкий заголовок
}

// Базовый размер текста для body
body {
    @include fluid-text(24, 14) // Адаптивный размер от 14px до 24px
}


/* ================ */
/* UTILITY FUNCTIONS */
/* ================ */
// Функция для преобразования пикселей в rem
@function rem($pixel) {
    @if math.is-unitless($pixel) {
        @return math.div($pixel, 16)+rem; // Расчет: px / 16
    }

    @else {
        @error 'Не используйте единицы измерения при работе с функцией rem()! Передавайте аргументом только числа.'
    }
}

/* ================ */
/* REUSABLE MIXINS */
/* ================ */
// Миксин для центрирования элементов
@mixin flex-center {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* ================ */
/* BASE STYLES */
/* ================ */
body {
    font-family: $font-family-base;
    background-color: $background-color;
    color: $text-color-base;
    letter-spacing: rem(1); // Использование rem-функции
}

// Стили ссылок
a {
    color: #fff;
    text-decoration: none;
    transition: .3s ease-out;

    &:hover {
        color: $primary-color; // Эффект при наведении
    }
}

// Основной контейнер
.container {
    max-width: rem(1920); // Максимальная ширина 1920px в rem
    margin: 0 auto;       // Центрирование
    padding: 0;           // Без внутренних отступов
}


/* ================ */
/* COMPONENTS */
/* ================ */
// Кнопки (как тег button, так и класс .button)
button,
.button {
    background-color: transparent;
    color: white;
    padding: rem(14) rem(16); // Отступы в rem
    border: rem(1) solid $primary-color;
    border-radius: rem(40); // Скругление углов
    font-size: rem(22);
    font-family: 'Helvetica';
    gap: rem(8);  // Расстояние между элементами
    line-height: 1;
    vertical-align: middle;
    transition: .3s ease-out; // Плавные переходы
    cursor: pointer;
    @include flex-center; // Использование миксина

    // Стили для иконок внутри кнопок
    svg {
        vertical-align: middle;
        width: rem(24);
        height: rem(24);
        fill: #fff; // Цвет заливки по умолчанию
    }

    // Эффекты при наведении
    &:hover {
        background-color: $primary-color;
        color: $background-color;

        svg {
            fill: $background-color; // Изменение цвета иконки
        }
    }
}

// Поля ввода
input {

    border: none;
    padding: rem(12) rem(16);
    border-bottom: rem(1) solid $text-color-base;
    background-color: transparent;
    font-size: rem(16);
    width: 100%;
    color: $text-color-base;
    transition: all 0.3s ease; // Плавные изменения


    // Стили плейсхолдера
    &::placeholder {
        color: $text-color-base;
        opacity: 0.8; 
        transition: color 0.3s ease; // Отдельный переход для текста
    }

    // Стили при вводе данных
    &:not(:placeholder-shown) {
        color: #fff;
    }

    // Стили при фокусе
    &:focus {
        border: rem(1) solid $primary-color;
        border-radius: rem(5);
        outline: none;
        box-shadow: 0 0 rem(3) rgba($primary-color, 0.6); // Свечение

        &::placeholder {
            color: #fff; // Изменение цвета плейсхолдера
        }
    }
    
}
// Кастомные чекбоксы
input[type="checkbox"] {
    width: rem(14);
    height: rem(14);
    border-radius: rem(2);
    border: rem(1) solid $text-color-base;
    transition: 500ms; // Анимация изменения
    accent-color: $primary-color; // Цвет акцента
    box-shadow: none; // Отключение стандартных теней
}

// Стиль для заголовков секций
.heading {
    padding: rem(8) rem(16);
    border-left: rem(1) solid $primary-color; // Акцентная линия слева
    width: 100%;
}


/* ================ */
/* HEADER SECTION */
/* ================ */
header {
    position: fixed;
    top: 0;
    width: 100vw;
    background: transparent;
    transition: background-color 0.3s ease;
    ;
    z-index: 1000; // Гарантированно поверх других элементов
    line-height: 1;

    // Стиль при прокрутке
    &.scrolled {
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(rem(3)); // Эффект размытия
        -webkit-backdrop-filter: blur(rem(3));
    }
}

// Контент шапки
.header-content {
    @include flex-center; // Использование миксина
    padding: rem(16) rem(128) rem(16) rem(128);

    .header-menu {
        list-style: none;
        @include flex-center;
        gap: rem(32); // Расстояние между пунктами меню
    }

    .header-contacts {
        @include flex-center;
        gap: rem(32);

        // Иконка личного кабинета
        .personal-account {
            width: rem(32);
            height: rem(32);
            border-radius: rem(100); // Круглая форма
            transition: .5s ease-out;

            &:hover {
                background-color: $primary-color;
                color: $background-color;

                svg {
                    fill: $background-color;
                }
            }
        }
    }
}


/* ================ */
/* MAIN SCREEN WITH SLIDER */
/* ================ */
.main-screen {
    height: 100vh; // На всю высоту экрана
    padding: 0 rem(128) rem(120) rem(128);
    display: flex;
    justify-content: flex-end; // Контент внизу экрана
    align-items: stretch;
    flex-direction: column;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    width: 100%;

    .content {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        gap: rem(64);
        position: relative;
        z-index: 10; // Поверх слайдера

        .content-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start; // Выравнивание по левому краю
            gap: rem(32);

        }
    }

    .content-button {
        @include flex-center;

        .button-slider {
            @include flex-center;
            gap: rem(16);
        }
    }
}


// Слайдер фона
.slider {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    max-width: rem(1920);
    height: 100%;
    margin: 0 auto;


    .slides {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 80%; // Полупрозрачность фона

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 0.8s ease-in-out; // Плавное переключение
            z-index: 0;

            // Активный слайд
            &.active {
                opacity: 1;
                z-index: 1;
            }
        }
    }
}



/* ================ */
/* ABOUT SECTION */
/* ================ */
.block-about {
    padding: rem(120) rem(128) 0 rem(128);

    .block-about-text {
        display: flex;
        text-align: center;
        flex-direction: column;
        gap: rem(32);
        padding-bottom: rem(64);

        p {
            font-size: rem(32)
        }
    }

    .block-about-statistic {
        @include flex-center;
        border-top: rem(1) solid $primary-color; // Разделительная линия
        padding-top: rem(64);

        .block-about-statistic-module {
            @include flex-center;
            gap: rem(8);
            line-height: 1;

            h2 {
                font-family: Arial, Helvetica, sans-serif;
                font-weight: lighter;
                letter-spacing: rem(-1);
            }
        }
    }
}


.block-services {
    display: flex;
    align-items: center;
    flex-direction: column;
    padding: rem(120) rem(128);
    gap: rem(64);

    .block-services-cards {
        display: flex;
        flex-wrap: wrap;
        gap: rem(16);
        justify-content: center;

        .card {
            position: relative;
            width: 100%;
            flex: 1 1 calc(33.333% - 1rem);
            max-width: calc(33.333% - 1rem);
            overflow: hidden;
            cursor: pointer;
            border-radius: rem(10);

            .card-link {
                display: block;
                position: relative;
                width: 100%;
                height: 100%;
                text-decoration: none;

                img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    display: block;
                    transition: transform 0.3s ease;
                }

                &::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: rgba(0, 0, 0, 0);
                    transition: background-color 0.3s ease;
                    z-index: 1;
                }

                .text-overlay {
                    position: absolute;
                    bottom: 0;
                    right: 0;
                    width: 100%;
                    padding: rem(16);
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    z-index: 2;
                    text-align: right;

                    p {
                        font-size: rem(16);
                        margin: 0;
                    }
                }
            }

            &:hover {
                .card-link {
                    img {
                        transform: scale(1.05);
                    }

                    &::before {
                        background-color: rgba(0, 0, 0, 0.5);
                    }

                    .text-overlay {
                        opacity: 1;
                    }
                }
            }
        }
    }

    .block-services-button {
        width: 100%;
        display: flex;
        justify-content: flex-end;
    }
}

@media (max-width: rem(900)) {
    .card {
        flex: 1 1 calc(50% - 1rem);
        max-width: calc(50% - 1rem);
    }
}

@media (max-width: rem(600)) {
    .card {
        flex: 1 1 100%;
        max-width: 100%;
    }
}


.block-form {
    background-image: url(img/webp/screensaver2-form.webp);
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    padding: rem(120) rem(128);
    height: rem(1080);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-end;

    .form {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        justify-content: center;
        gap: rem(32);
        text-align: right;


        .form-text {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: rem(16);

            p {
                font-size: rem(19);
            }
        }

        .form-inner {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: rem(16);
            width: 100%;

            .form-inputs {
                display: flex;
                flex-direction: column;
                align-items: flex-end;
                gap: rem(16);
                width: 100%;

            }

            .policy-checkbox-text {
                width: 100%;
                text-align: left;
                padding-left: rem(16);

                input[type="checkbox"] {
                    width: rem(14);
                    height: rem(14);
                    border-radius: rem(2);
                    border: rem(1) solid $text-color-base;
                    transition: 500ms;
                    accent-color: $primary-color;
                }

                .policy-text {
                    font-size: rem(16);
                }

            }
        }
    }
}

.block-contacts {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    padding: rem(120) rem(128);
    gap: rem(64);

    .block-contacts-content {
        @include flex-center;

        .contacts-left {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: rem(32);

            .contacts-left-text {
                padding: rem(10) rem(12);
                display: flex;
                align-items: flex-start;
                flex-direction: column;
                gap: rem(8);

                p {
                    color: $additional-primary-color;
                }
            }

            .contact-left-messengers {
                display: flex;
                gap: rem(32);

                .wa:hover {
                    stroke: $primary-color;
                }

                .tg:hover {
                    fill: $primary-color;
                }

            }
        }

        .contacts-right {
            display: flex;
            height: rem(332);
            flex-direction: column;
            justify-content: space-between;
            align-items: flex-start;

            .contacts-right-text {
                display: flex;
                align-items: center;
                gap: rem(16);
            }
        }
    }
}

.map {
    width: 100%;
    height: rem(540);

    iframe {
        width: 100%;
        height: rem(540);
    }
}

.footer {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    padding: rem(120) rem(128) rem(32) rem(128);
    gap: rem(64);
    background-color: #1c1c1c;

    .footer-content {
        @include flex-center;
        align-items: flex-start;

        .footer-logo-contacts {
            @include flex-center;
            align-items: flex-start;
            gap: rem(64);

            img {
                width: rem(285);
            }

            .footer-contacts {
                padding-left: rem(64);
                border-left: rem(1) solid $primary-color;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                gap: rem(16);

                .contacts-left-text {
                    padding: rem(10) rem(12);
                    display: flex;
                    align-items: flex-start;
                    flex-direction: column;
                    gap: rem(8);

                    p {
                        color: $additional-primary-color;
                        font-size: rem(20);
                    }
                }

                .contact-left-messengers {
                    display: flex;
                    gap: rem(32);

                    .wa:hover {
                        stroke: $primary-color;
                    }

                    .tg:hover {
                        fill: $primary-color;
                    }
                }
            }

        }
    }

    .footer-additional-text {
        @include flex-center;

        p {
            font-size: rem(16);
            text-align: right;
            font-weight: 300;
        }
    }
}

.breadcrumb {
    padding: rem(52) rem(128);
    list-style: none;

    li {
        display: inline;
        font-size: rem(14);


        &+li:before {
            padding: rem(4);
            color: #acacac;
            content: "/\00a0";
        }

        a {
            color: #acacac;
            text-decoration: none;

            &:hover {
                color: $primary-color;
            }
        }
    }
}

.block-calc {
    padding: 0 rem(128) rem(120) rem(128);
    display: flex;
    flex-direction: column;
    gap: rem(64);
}

.block-gallery-studio {
    display: flex;
    flex-direction: column;
    padding: rem(120) rem(128);
    gap: rem(64);

    .gallery {
        display: flex;
        gap: rem(16);
        flex-direction: column;
        align-items: center;

        .container-img {
            overflow: hidden;
            border-radius: rem(10);
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            justify-content: flex-end;

            img {
                width: 100%;
                height: auto;
                object-fit: cover;
                display: block;
                transition: transform 0.3s ease;

                &:hover {
                    transform: scale(1.05);
                }
            }

        }

        .gallery-top {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: rem(16);

            .gallery-vertical {
                display: flex;
                flex-direction: column;
                align-items: flex-end;
                gap: rem(16);
            }
        }

        .gallery-bottom {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: rem(16);
        }
    }
}

.block-advantages {
    display: flex;
    flex-direction: column;
    padding: 0 rem(128);
    gap: rem(64);

    .block-advantages-icon {
        padding: 0 rem(128);
        @include flex-center;
        align-items: flex-start;

        .advantages-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: rem(8);

            p {
                font-size: rem(16);
            }
        }
    }
}


.block-text-about {
    padding: 7.5rem 8rem 0 8rem;
    font-size: rem(36);
    color: #fff;
}


.block-about {
    padding: 0rem 8rem;
}

.block-about-text-cleaning {
    display: flex;
    text-align: center;
    flex-direction: column;
    padding-bottom: 2rem;
}

.block-about-statistic-cleaning {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 0.0625rem solid #AFFA00;
    padding-top: 2rem;
    text-align: center;
}



.table-wrap {
    overflow-x: auto;
    max-width: 100%;
    padding: rem(120) rem(128);
    display: flex;
    flex-direction: column;
    gap: rem(64);

    .table {
        display: flex;
        flex-direction: column;
        gap: rem(16);

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #333;

            thead {
                border-bottom: rem(2) solid $primary-color;

                tr {

                    th {
                        text-align: center;
                        padding: rem(18);
                        border: rem(1) solid #000;

                        h4 {
                            text-align: left;
                        }
                    }
                }
            }

            tbody {
                tr {
                    transition: .2s ease-out;

                    td {
                        padding: rem(18);
                        font-size: rem(20);
                        text-align: center;
                        border: rem(1) solid #000;

                        p {
                            text-align: left;
                        }
                    }

                    &:hover {
                        background-color: $primary-color;
                        color: $background-color;
                    }
                }

            }
        }

        .text-about-price {
            font-size: rem(14);
            text-align: center;
        }
    }
}

.block-cleaning-step {
    display: flex;
    flex-direction: column;
    gap: rem(64);
    padding: 0 rem(128) rem(120) rem(128);

    .cleaning-step-img {
        display: flex;
        gap: rem(16);
        flex-direction: column;
        align-items: center;

        .card-step {
            position: relative;
            border-radius: rem(10);
            overflow: hidden;

            img {
                display: block;
                width: 100%;
                height: auto;
            }

            .card-caption {
                position: absolute;
                left: 0;
                right: 0;
                bottom: 0;
                padding: rem(32);
                box-sizing: border-box;
                text-align: center;
            }
        }
    }
}

.card-step-top,
.card-step-bottom {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: rem(16);
    width: 100%;
}

.auth-container,
.reg-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: rem(240) rem(16) rem(120) rem(16);

    .auth-form,
    .reg-form {
        display: flex;
        flex-direction: column;
        width: rem(640);
        padding: rem(32);
        gap: rem(32);
        background-color: $background-color;
        box-shadow: 0 0 3em rgba(175, 250, 0, 0.14);
        border-radius: rem(20);

        .auth-title,
        .reg-title {
            text-align: center;
        }

        .auth-content,
        .reg-content {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            gap: rem(32);

            .auth-input,
            .reg-input {
                display: flex;
                flex-direction: column;
                gap: rem(16);


                .auth-remember,
                .reg-agreement {
                    padding-left: rem(16);
                    display: flex;
                    flex-direction: row;
                    align-items: center;
                    gap: rem(8);

                    label {
                        font-size: rem(14);
                        display: flex;
                        color: $text-color-base;
                    }
                }
            }

            .auth-button-reg-link {
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: stretch;
                gap: rem(16);

                button {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                }



                .auth-reg-link {
                    @include flex-center;
                    justify-content: center;
                    gap: rem(4);
                    font-size: rem(14);
                }
            }

        }

    }
}

@media (max-width: rem(480)) {
    .header-content {

        padding: rem(8) rem(16) rem(8) rem(16);
    }

    .header-content {

        padding: rem(8) rem(16) rem(8) rem(16);
    }

    .main-screen {
        padding: 0 rem(16) rem(8) rem(16);
    }

    .block-about {
        padding: rem(8) rem(16) 0 rem(16);
    }

    .block-services {
        padding: rem(8) rem(16);
        gap: rem(16);
    }

    .block-form {
        padding: rem(8) rem(16);
    }

    .block-contacts {
        padding: rem(8) rem(16);
        gap: rem(16);
    }

    .footer {
        padding: rem(8) rem(16) rem(8) rem(16);
        gap: rem(16);
    }

    .breadcrumb {
        padding: rem(8) rem(16);
    }

    .block-calc {
        padding: 0 rem(16) rem(8) rem(16);

        gap: rem(16);
    }

    .block-gallery-studio {

        padding: rem(8) rem(16);
        gap: rem(16);
    }

    .block-advantages {
        padding: 0 rem(16);
        gap: rem(16);

        .block-advantages-icon {
            padding: 0 rem(16);
        }
    }

    .table-wrap {
        padding: rem(8) rem(16);

        gap: rem(16);
    }

    .block-cleaning-step {

        gap: rem(16);
        padding: 0 rem(16) rem(8) rem(16);
    }

    .block-cleaning-step {
        display: flex;
        flex-direction: column;
        gap: rem(16);
        padding: 0 rem(16) rem(8) rem(116);
    }
}